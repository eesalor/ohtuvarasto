{% extends "base.html" %}

{% block title %}Edit Warehouse{% endblock %}

{% block content %}
    <a href="{{ url_for('index') }}" class="back-link">‚Üê Back to Warehouses</a>
    
    <h1>Edit Warehouse: {{ warehouse.name }}</h1>
    
    <form method="POST">
        <div class="form-group">
            <label for="name">Warehouse Name:</label>
            <input type="text" id="name" name="name" value="{{ warehouse.name }}" required>
        </div>
        
        <div class="form-group">
            <label for="capacity">Capacity:</label>
            <input type="number" id="capacity" name="capacity" step="0.01" min="0.01" value="{{ warehouse.varasto.tilavuus }}" required>
            <small style="color: #666; display: block; margin-top: 5px;">
                Current balance: {{ "%.2f"|format(warehouse.varasto.saldo) }}. 
                Make sure new capacity is >= current balance.
            </small>
        </div>
        
        <div class="actions">
            <button type="submit" class="btn">Update Warehouse</button>
            <a href="{{ url_for('index') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
    
    <hr style="margin: 40px 0; border: none; border-top: 1px solid #ddd;">
    
    <h3 style="color: #e74c3c;">Danger Zone</h3>
    <p style="color: #666; margin-bottom: 15px;">Deleting a warehouse cannot be undone.</p>
    <form method="POST" action="{{ url_for('delete_warehouse', warehouse_id=warehouse.id) }}" 
          onsubmit="return confirm('Are you sure you want to delete this warehouse? This action cannot be undone.')">
        <button type="submit" class="btn btn-danger">Delete Warehouse</button>
    </form>
{% endblock %}
